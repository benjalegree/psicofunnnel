'use client'\nimport { useState } from 'react';\nexport default function PublishTester(){\n  const [slug,setSlug]=useState('demo');\n  const [mode,setMode]=useState<'draft'|'publish'>('draft');\n  const [key,setKey]=useState('');\n  const [html,setHtml]=useState('<!doctype html><html><body><h1>Hola</h1></body></html>');\n  const [out,setOut]=useState<any>(null);\n  const [loading,setLoading]=useState(false);\n  const [error,setError]=useState<string|null>(null);\n  async function send(e:React.FormEvent){\n    e.preventDefault(); setLoading(true); setError(null); setOut(null);\n    try{\n      const res = await fetch('/api/publish',{ method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({key,slug,html,mode}) });\n      const txt = await res.text();\n      let data:any=null; try{ data = JSON.parse(txt) }catch{ data = { raw: txt } }\n      setOut({ status: res.status, ...data });\n    }catch(err:any){ setError(err?.message||'Error desconocido'); }\n    finally{ setLoading(false); }\n  }\n  return(<main style={{maxWidth:860,margin:'40px auto',padding:'0 16px',fontFamily:'system-ui'}}>\n    <h1>Tester de Publicación</h1>\n    <form onSubmit={send} style={{display:'grid',gap:12}}>\n      <label>Slug<input value={slug} onChange={e=>setSlug(e.target.value)} required style={{width:'100%',padding:10}}/></label>\n      <label style={{display:'flex',gap:12}}>\n        <span><input type='radio' checked={mode==='draft'} onChange={()=>setMode('draft')}/> Draft</span>\n        <span><input type='radio' checked={mode==='publish'} onChange={()=>setMode('publish')}/> Publish</span>\n      </label>\n      <label>PUBLISH_KEY<input value={key} onChange={e=>setKey(e.target.value)} required style={{width:'100%',padding:10}} placeholder='psico_pub_galo_millonario'/></label>\n      <label>HTML<textarea value={html} onChange={e=>setHtml(e.target.value)} rows={10} style={{width:'100%',padding:10}}/></label>\n      <button disabled={loading} style={{padding:'10px 14px'}}>{loading?'Enviando…':(mode==='draft'?'Guardar DRAFT':'PUBLICAR')}</button>\n    </form>\n    {error&&<p style={{color:'crimson'}}>⚠ {error}</p>}\n    {out&&<pre style={{whiteSpace:'pre-wrap'}}>{JSON.stringify(out,null,2)}</pre>}\n  </main>)\n}\n